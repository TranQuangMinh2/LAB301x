<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<title>Order Detail</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link th:href="@{/admin/assets/css/template/order-detail.css}" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" th:href="@{/admin/assets/css/style.bundle.css}"/>
	<link rel="stylesheet"href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700|Roboto:300,400,500,600,700">
	<link th:href="@{/admin/assets/plugins/global/plugins.bundle.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/admin/assets/css/style.bundle.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/admin/assets/css/skins/header/base/light.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/admin/assets/css/skins/header/menu/light.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/admin/assets/css/skins/brand/dark.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/admin/assets/css/skins/aside/dark.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/admin/assets/css/spinkit.min.css}" rel="stylesheet" type="text/css" />
	<link rel="shortcut icon" th:href="@{/admin/assets/media/logos/favicon.ico}" />
	<th:block th:insert="admin/fragments/common :: global_css"></th:block>
	   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<style>
	#loading-overlay {
	      position: fixed;
	      top: 0;
	      left: 0;
	      width: 100%;
	      height: 100%;
	      background: rgba(255, 255, 255, 0.8);
	      display: flex;
	      align-items: center;
	      justify-content: center;
	      z-index: 1000;
	    }
	</style>
</head>
<body>
<div id="loading-overlay">
	   <div class="sk-wander">
	      <div class="sk-wander-cube"></div>
	      <div class="sk-wander-cube"></div>
	      <div class="sk-wander-cube"></div>
	    </div>
	</div>
<div id="content" style="display: none">
	    <!-- header -->
	<header th:replace="admin/fragments/header"></header>
    <div class="kt-grid kt-grid--hor kt-grid--root">
			<div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">

				<!-- begin:: Aside -->
				<div th:replace="admin/fragments/sidebar"></div>
				<!-- end:: Aside -->
				
				<div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">

					<!-- begin:: Header -->
					<!--<div th:replace="admin/fragments/header :: header"></div>-->
					<!-- end:: Header -->

					<div class="kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" id="kt_content">

						<!-- begin:: Content Head -->
						<!--<div th:replace="admin/fragments/header :: sub_header"></div>-->
						<!-- end:: Content Head -->
						
						<!-- begin:: Content -->
						<div id="router-outlet" class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
							<div class="kt-portlet kt-portlet--mobile">
								<h3 class="kt-portlet__head-title text-center">
									Đơn Mượn #<span id="order_id" th:text="${orderWeb.id}"></span> - <span th:text="${orderWeb.deliveryStatus}"></span>
								</h3>
								<div class="kt-portlet__head kt-portlet__head--lg">
									<div class="kt-portlet__head-label" style="overflow-x:auto;">
									</div>
									<div class="kt-portlet__head-toolbar">
										<div class="kt-portlet__head-wrapper">
											<a onclick="history.back()" class="btn btn-clean btn-icon-sm">
												<i class="la la-long-arrow-left"></i>
												Quay lại
											</a>
											&nbsp;
											<div class="dropdown dropdown-inline" th:if="${hasCancelled}">
												<button type="button" class="btn btn-danger btn-icon-sm" id="cancel_order_header">
													<i class="flaticon2-trash"></i> Yêu cầu trả sách
												</button>
											</div>
										</div>
									</div>
								</div>
								<div class="kt-portlet__body">
								
									<div class="row order_web_info">
										<div class="col-12 col-md-6">
											<div class="row">
												<div class="col-5 col-md-4 lbl_title">Người mượn:</div>
												<div class="col-7 col-md-8" th:text="${orderWeb.consignee}"></div>
											</div>
										</div>
										<div class="col-12 col-md-6">
											<div class="row">
												<div class="col-5 col-md-4 lbl_title">Số điện thoại:</div>
												<div class="col-7 col-md-8" th:text="${orderWeb.consigneePhone}"></div>
											</div>
										</div>
										<!-- <div class="col-12 col-md-6">
											<div class="row">
												<div class="col-5 col-md-4 lbl_title">Địa chỉ nhận hàng:</div>
												<div class="col-7 col-md-8" th:text="${orderWeb.deliveryAddress}"></div>
											</div>
										</div> -->
										<!-- <div class="col-12 col-md-6">
											<div class="row">
												<div class="col-5 col-md-4 lbl_title">Hình thức thanh toán:</div>
												<div class="col-7 col-md-8" th:text="${orderWeb.paymentMethod}">ATM</div>
											</div>
										</div> -->
										<!-- <div class="col-12 col-md-6">
											<div class="row">
												<div class="col-5 col-md-4 lbl_title">Trạng thái thanh toán:</div>
												<div class="col-7 col-md-8" th:text="${orderWeb.paymentStatus}">ATM</div>
											</div>
										</div> -->
										<div class="col-12 col-md-6">
											<div class="row">
												<div class="col-5 col-md-4 lbl_title">Trạng thái mượn sách:</div>
												<div class="col-7 col-md-8" th:text="${orderWeb.deliveryStatus}">ATM</div>
											</div>
										</div>
									</div>
						
									<hr class="action_hr">
									<div class="row delivery_status_action">
										<div class="col-12 d-none"><h4>Thay đổi trạng thái:</h4></div>
										<div class="col-12">
											<button th:each="action : ${actions}" type="button" th:class="${'btn_change_status btn ' + action.class}" th:status="${action.status}" th:text="${action.title}"></button>
											<!-- <a href="#" class="btn btn-clean btn-icon-sm undo_action" th:status="${undoAction}" th:if="${undoAction != ''}">
												<i class="la la-long-arrow-left"></i>
												Quay lại trạng thái trước
						 						<span th:text="${undoAction}"></span>
											</a> -->
										</div>
									</div>
									<a th:href="@{/order/{orderId}/update(orderId=${orderWeb.id})}">Thay đổi trạng thái</a>
						
								</div>
								<div>
						
									<!--begin: Datatable -->
									<table width="100%" class="w3-table-all">
										<thead>
											<tr class="w3-blue">
												<th title="Field #1">Tài liệu</th>
												<!-- <th title="Field #2">Size</th> -->
												<!-- <th title="Field #3">Giá</th> -->
												<!-- <th title="Field #4">Số lượng</th> -->
												<!-- <th title="Field #5">Tạm tính</th> -->
												<!-- <th title="Field #4">Phiên bản</th> -->
											</tr>
										</thead>
										<tbody>
											<tr th:each="item : ${orderWeb.orderWebDetails}" th:with="product=${item.productSize.Product}">
												<td><a th:href="${'/product/' + product.id}" th:text="${product.name}"></a></td>
												<!--<td th:text="${item.productSize.size}"></td>-->
												<!-- <td th:text="${orderWeb.formatPrice(item.price)}"></td> -->
												<!-- <td th:text="${item.quantity}"></td> -->
												<!-- <td align="right" th:text="${orderWeb.formatPrice(item.totalAmount)}"></td> -->
												<!--<td th:text="${product.versionName}"></td>-->
											</tr>
										</tbody>
									</table>
									
						
									<!--end: Datatable -->
								</div>
							</div>
						</div>
						<!-- end:: Content -->
					</div>
				</div>
			</div>
		</div>
	<footer th:replace="admin/fragments/footer"></footer>
</div>
<script>
	    // Simulate a loading delay
	    document.addEventListener("DOMContentLoaded", function() {
	      setTimeout(function() {
	        // Hide the loading overlay and show the content
	        document.getElementById('loading-overlay').style.display = 'none';
	        document.getElementById('content').style.display = 'block';
	      }, 2000); // Adjust the timeout as needed
	    });
  	</script>
<!--begin :: Page Script (used by this page) -->
<!-- <th:block th:fragment="page_script">
	<script src="assets/js/pages/crud/metronic-datatable/base/html-table.js" type="text/javascript"></script>
	<script src="assets/js/template/order-detail.js" type="text/javascript"></script>
</th:block> -->
<!--end :: Page Script -->
</body>
</html>
<!-- end :: Content -->

